<!-- AI Chat Sidebar -->
<div class="ai-chat-sidebar" id="aiChatSidebar" style="--ai-sidebar-width:400px;">
    <div class="ai-chat-header">
        <h5 class="mb-0">AI Chat</h5>
        <div class="d-flex align-items-center gap-2">
            <!-- AI Logout button -->
            <button type="button" class="btn btn-sm btn-outline-light ai-logout-btn" id="aiLogoutBtn" title="Clear AI session" style="border-radius: 50%; padding: 0.25rem 0.5rem;">
                <i class="bi bi-box-arrow-right"></i>
            </button>
            <button type="button" class="btn-close btn-close-white" id="closeAiChat" aria-label="Close"></button>
        </div>
    </div>

    <!-- Status area for errors like invalid API key -->
    <div id="aiStatus" class="ai-status" style="padding:0.5rem 1rem; display:none;"></div>

    <div class="ai-chat-messages" id="chatMessages">
        <!-- Messages will be dynamically inserted here -->
    </div>

    <div class="ai-chat-input">
        <div class="input-group">
            <textarea class="form-control" id="aiChatInput" placeholder="Type your message..." rows="2"></textarea>
            <button class="btn btn-primary" type="button" id="sendAiChat">
                <i class="bi bi-send"></i>
            </button>
        </div>
    </div>

    <!-- draggable resizer on the left edge -->
    <div id="aiResizer" class="ai-resizer" title="Drag to resize AI sidebar" aria-hidden="true"></div>
</div>
